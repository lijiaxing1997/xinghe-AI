# 🚀 FastMCP 音乐播放器

一个基于 `FastMCP`、`pygame` 和 `requests` 库构建的简单音乐播放器，支持在线音乐搜索、下载和本地音乐播放控制。

---

## ⚠️ 免责声明

**本程序仅供学习参考。禁止传播和售卖。请尊重版权，遵守法律。音乐资源并非本脚本提供，而是从互联网获取。**

**请注意：为保护版权本版本阉割了在线播放，仅支持本地播放**

---

## 📝 概述

本项目是一个使用 `FastMCP` 框架实现的交互式音乐播放器。它能够在后台运行一个播放线程，允许用户通过 `FastMCP` 提供的工具函数来搜索在线音乐、播放本地音乐、控制播放（暂停、恢复、停止、下一首、上一首）以及查看当前播放列表。

---

## ✨ 功能特性

* **在线音乐搜索**: 根据关键词搜索互联网上的音乐。
* **在线音乐播放**: 自动从指定来源下载音乐到本地 `music_file` 文件夹并播放。
* **本地音乐播放**: 播放 `music_file` 文件夹中的 `.mp3` 格式音乐文件，支持**单曲循环**、**列表循环**和**随机播放**模式。
* **播放控制**:
    * `pause_music()`: 暂停当前播放的音乐。
    * `unpause_music()`: 恢复暂停的音乐。
    * `stop_music()`: 停止音乐播放。
    * `next_song()`: 播放播放列表中的下一首歌曲。
    * `previous_song()`: 播放播放列表中的上一首歌曲。
* **获取播放列表**: `get_playlist()` 获取并显示当前加载的播放列表及正在播放的歌曲。
* **后台播放**: 音乐播放在一个独立的线程中进行，不阻塞主程序。

---

## ⚙️ 先决条件

在运行此程序之前，请确保你的系统满足以下要求：

* **Python**: Python 3.7+
* **pip**: Python 包管理器 (通常随 Python 一起安装)

### 所需 Python 库

请使用 `pip` 安装以下库：

```bash
pip install pygame requests fastmcp
```

---

## 🚀 安装与运行

1.  **克隆或下载代码**:
    将`music_mcp.zip`保存到你的本地计算机，并且解压。

2.  **运行脚本**:
    打开终端或命令提示符，导航到脚本文件所在的目录，然后运行：

    ```bash
    python play_music.py
    ```

    脚本启动后，你将看到类似以下输出，表示 FastMCP 服务器已启动：

    ```
    后台播放线程已在脚本启动时启动。
    FastMCP server started on port 4567. Access via SSE.
    ```
---

## 🕹️ 使用方法

程序运行后，它将在本地启动一个 FastMCP SSE 服务器，默认端口为 `4567`。

启动支持AI助手的客户端，配置SSE MCP，即可开始使用！

---

## 📂 项目结构

```
.
├── play_music.py  # 主程序脚本
└── music_file/      # 存放下载或本地音乐的文件夹
    ├── song1.mp3
    └── song2.mp3
```

---

## 🤝 贡献

欢迎对本项目进行改进和贡献。如果你有任何建议或发现 Bug，请随时提出 Issue 或提交 Pull Request。

---

## 📄 许可证

本项目为学习参考代码，不提供具体许可证。请遵守上述免责声明。
